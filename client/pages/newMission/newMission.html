<template name="autoCompletePilots">
    <div class="well">
        <p>Piloti assegnati</p>
        {{> inputAutocomplete settings=settings id="pilotSelect" class="form-control" name="pilotSelect" placeholder="Pilota" }}
    </div>
    <!--<pre>  -->
        {{#each pilota}}
            {{pilot}}
        {{/each}}
    <!-- </pre> -->
</template> 

<template name="selectPilot">
    <div id= "selectPilot">
    {{profile.firstname}} {{profile.lastname}}<span style="color: {{color}}; background-color: {{bg}};"><L><br>{{pilotEmail}}</L></span>
    </div>
</template>

<template name="pilotsLIST">
    <table>
        <tr>
            <th>Piloti scelti</th>
            <th>Rimuovere</th>
        </tr>
            {{#unless update}}
                {{#each pilotsList}}
                    <tr>
                        <td>
                            <div class="pilotsSelected">{{this.profile.firstname}} {{this.profile.lastname}}</div>
                        </td>
                        <td>
                            <i class="fa fa-times delete" aria-hidden="true"></i>
                        </td>
                    </tr>
                {{/each}}
            {{/unless}}
    </table>
</template>

<template name = "newMission">
    <h5>Scheda tecnica</h5>
    <form>
        {{#if $not editSession}}
            <ion-input type="text" id="flight_number" placeholder="Num volo"></ion-input>
            <ion-input type="text" id="place" placeholder="Luogo"></ion-input>
            <br>
            <ion-label for="flight_date">Data volo</ion-label><br>
            <ion-input type="date" id="flight_date"></ion-input>
            <br>
            <br>
            <ion-input type="text" id="wind" placeholder="vento"></ion-input>
            <ion-input type="text" id="weather" placeholder="Meteo"></ion-input>
            <br>
            <ion-label for="take_off_time">Ora decollo</ion-label><br>
            <ion-input type="time" id="take_off_time" placeholder="10:00"></ion-input>
            <br>
            <ion-label for="landing_time">Ora atterraggio</ion-label><br>
            <ion-input type="time" id="landing_time" placeholder="12:00"></ion-input>
            <br>
            <br>
            <ion-input type="text" id="rpas" placeholder="EGM-001"></ion-input>
            <ion-input type="text" id="battery1" placeholder="id batteria"></ion-input>
            <br>
            <h5>Simulazione</h5>
            <ion-checkbox name="simulation" value="true">Volo simulato</ion-checkbox>
            <br>
            <h5>Volume di volo</h5>
            <ion-checkbox name="v70" value="true">V70</ion-checkbox>
            <ion-checkbox name="v150" value="true">V150</ion-checkbox>
            <br>
            <h5>Regole di volo</h5>
            <ion-checkbox name="vlos" value="true">VLOS</ion-checkbox>
            <ion-checkbox name="blos" value="true">BLOS</ion-checkbox>
            <ion-checkbox name="evlos" value="true">EVLOS</ion-checkbox>
            <br>
            <h5>Certificazione</h5>
            <ion-checkbox name="certB" value="true">B</ion-checkbox>
            <ion-checkbox name="certC" value="true">C</ion-checkbox>
            <ion-checkbox name="certL" value="true">L</ion-checkbox>
            <ion-checkbox name="certVL" value="true">VL</ion-checkbox>
            <br>
            <div class="autocompletepilots"><div>{{> autoCompletePilots}}</div></div>
            <br>
            <div>{{> pilotsLIST}}</div>
        {{else}}
        {{#with missions}}
            <input type="text" id="flight_number" placeholder="Num volo" value="{{flightNumber}}">
            <input type="text" id="place" placeholder="Luogo" value="{{place}}">
            <br>
            <label for="flight_date">Data volo</label><br>
            <input type="date" id="flight_date" value="{{flightDate}}">
            <br>
            <br>
            <input type="text" id="wind" placeholder="vento" value="{{wind}}">
            <input type="text" id="weather" placeholder="Meteo" value="{{weather}}">
            <br>
            <label for="take_off_time">Ora decollo</label><br>
            <input type="time" id="take_off_time" placeholder="10:00" value="{{takeOffTime}}">
            <br>
            <label for="landing_time">Ora atterraggio</label><br>
            <input type="time" id="landing_time" placeholder="12:00" value="{{landingTime}}">
            <br>
            <br>
            <input type="text" id="rpas" placeholder="EGM-001" value="{{rpas}}">
            <input type="text" id="battery1" placeholder="id batteria" value="{{battery1}}">
            <br>
            <h5>Simulazione</h5>
            {{#if simulation}}
                <input type="checkbox" name="insurance" value="true" checked>Si
                {{else}}
                <input type="checkbox" name="simulation" value="true" unchecked>Si
            {{/if}}
            <br>
            <h5>Volume di volo</h5>
            {{#if v70}}
            <input type="checkbox" name="v70" value="true" checked>V70
            {{else}}
            <input type="checkbox" name="v70" value="true" unchecked>V70
            {{/if}}
            {{#if v150}}
            <input type="checkbox" name="v150" value="true" checked>V150
            {{else}}
            <input type="checkbox" name="v150" value="true" unchecked>V150
            {{/if}}
            <br>
            <h5>Regole di volo</h5>
            {{#if vlos}}
            <input type="checkbox" name="vlos" value="true" checked>VLOS
            {{else}}
            <input type="checkbox" name="vlos" value="true" unchecked>VLOS
            {{/if}}
            {{#if blos}}
            <input type="checkbox" name="blos" value="true" checked>BLOS
            {{else}}
            <input type="checkbox" name="blos" value="true" unchecked>BLOS
            {{/if}}
            {{#if evlos}}
            <input type="checkbox" name="evlos" value="true" checked>EVLOS
            {{else}}
            <input type="checkbox" name="evlos" value="true" unchecked>EVLOS
            {{/if}}
            <br>
            <h5>Certificazione</h5>
            {{#if certB}}
            <input type="checkbox" name="certB" value="true" checked>B
            {{else}}
            <input type="checkbox" name="certB" value="true" unchecked>B
            {{/if}}
            {{#if certC}}
            <input type="checkbox" name="certC" value="true" checked>C
            {{else}}
            <input type="checkbox" name="certC" value="true" unchecked>C
            {{/if}}
            {{#if certL}}
            <input type="checkbox" name="certL" value="true" checked>L
            {{else}}
            <input type="checkbox" name="certL" value="true" unchecked>L
            {{/if}}
            {{#if certVL}}
            <input type="checkbox" name="certVL" value="true" checked>VL
            {{else}}
            <input type="checkbox" name="certVL" value="true" unchecked>VL
            {{/if}}
            <br>
            <div class="autocompletepilots"><div>{{> autoCompletePilots}}</div></div>
            <br>
            {{#if $not editPilots}}
            <p><b>Piloti inseriti in precedenza : riselezionare i piloti</b></p>
            <table>
                <tr>
                    <th>Piloti scelti</th>
                </tr>
                    {{#unless update}}
                        {{#with missions}}
                            {{#each pilotsLName}}
                            <tr>
                                <td>
                                    <div class="pilotsSelected">{{this}}</div>
                                </td>
                            </tr>
                            {{/each}}
                        {{/with}}
                    {{/unless}}
            </table>
            {{else}}
            <div>{{> pilotsLIST}}</div>
            {{/if}}
        {{/with}}
        {{/if}}
        <br>
    </form>
    <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-button color="primary" class="back">Annulla</ion-button>
                </ion-col>
                <ion-col>
                    <ion-button color="primary" class="insert">Salva</ion-button>
                </ion-col>
            </ion-row>
        </ion-grid>
</template>